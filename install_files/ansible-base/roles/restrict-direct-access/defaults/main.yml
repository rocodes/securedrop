---
enable_ssh_over_tor: true

# Set the default SSH listening address for the sshd config file.
# If enable_ssh_over_tor is false, open up SSH (additional iptables templates
# helps us for restriction) otherwise restrict to localhost (tor).
ssh_listening_address: "{{ '127.0.0.1' if enable_ssh_over_tor else '0.0.0.0' }}"

# This var is defined in the tor-hidden-services role, but won't be available
# in separate plays, so declaring it within the context of iptables role, so
# the hostname files can be fetched back to the Admin Workstation.
tor_hidden_services_parent_dir: /var/lib/tor/services


# Platform specific command for inferring the local interface utilized
# to route to a specific IP host
admin_net_int:
  Linux:
    cmd: "/bin/ip r get "
    rgx: "(?<=dev )\\w+"
  Darwin:
    cmd: "/sbin/route -n get "
    rgx: "(?<=interface: )\\w+"

# Lookup table for querying keypair info from the local JSON
# file on the Admin Workstation, required for configuring client
# auth on Tor v3 Onion URLs. See the tor_v3_keys.json file for
# reference on structure.
tor_v3_service_map:
  app-journalistv3-aths: "app_journalist_private_key"
  app-sshv3-aths: "app_ssh_private_key"
  mon-sshv3-aths: "mon_ssh_private_key"
